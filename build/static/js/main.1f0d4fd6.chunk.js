(this["webpackJsonpcontacts-manager"]=this["webpackJsonpcontacts-manager"]||[]).push([[0],{68:function(e,t,a){e.exports=a(82)},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),o=a.n(r),i=a(40),s=a(10),l=a(25),u=a(58),d=a(16),b=a.n(d),p=a(17),f=a(14),O=a(49),m=a.n(O),j="contacts-keys";function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=b.a.mark(w),C=b.a.mark(E),y={contacts:{},showFavorites:!1,isLoading:!1},h=[b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)("CREATE_UPDATE_CONTACT",w);case 2:case"end":return e.stop()}}),e)})),b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)("DELETE_CONTACT",E);case 2:case"end":return e.stop()}}),e)}))];function w(e){var t;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)([localStorage,localStorage.setItem],e.contactId,JSON.stringify(e.contact));case 3:return a.next=5,Object(f.d)((function(e){return Object.keys(e.contacts.contacts)}));case 5:return t=a.sent,a.next=8,Object(f.b)([localStorage,localStorage.setItem],j,JSON.stringify([e.contactId].concat(Object(p.a)(t))));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(f.c)({type:"SET_ERROR",error:a.t0});case 14:case"end":return a.stop()}}),g,null,[[0,10]])}function E(e){var t;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)([localStorage,localStorage.removeItem],e.contactId);case 3:return a.next=5,Object(f.d)((function(e){return Object.keys(e.contacts.contacts)}));case 5:return t=a.sent,a.next=8,Object(f.b)([localStorage,localStorage.setItem],j,JSON.stringify(t.filter((function(t){return t!==e.contactId}))));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(f.c)({type:"SET_ERROR",error:a.t0});case 14:case"end":return a.stop()}}),C,null,[[0,10]])}var S=[b.a.mark((function e(){var t,a,n,c,r,o,i,s,l,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,Object(f.c)({type:"START_LOAD_CONTACTS"});case 4:return e.next=6,Object(f.b)([localStorage,localStorage.getItem],j);case 6:if(a=e.sent,n=JSON.parse(a),!Array.isArray(n)){e.next=43;break}c=!0,r=!1,o=void 0,e.prev=12,i=n[Symbol.iterator]();case 14:if(c=(s=i.next()).done){e.next=29;break}return l=s.value,e.prev=16,e.next=19,Object(f.b)([localStorage,localStorage.getItem],l);case 19:u=e.sent,d=JSON.parse(u),t[l]=d,e.next=26;break;case 24:e.prev=24,e.t0=e.catch(16);case 26:c=!0,e.next=14;break;case 29:e.next=35;break;case 31:e.prev=31,e.t1=e.catch(12),r=!0,o=e.t1;case 35:e.prev=35,e.prev=36,c||null==i.return||i.return();case 38:if(e.prev=38,!r){e.next=41;break}throw o;case 41:return e.finish(38);case 42:return e.finish(35);case 43:e.next=47;break;case 45:e.prev=45,e.t2=e.catch(1);case 47:return e.prev=47,e.next=50,Object(f.c)({type:"FINISH_LOAD_CONTACTS",contacts:t});case 50:return e.finish(47);case 51:case"end":return e.stop()}}),e,null,[[1,45,47,51],[12,31,35,43],[16,24],[36,,38,42]])}))],k=b.a.mark(I),T={contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SHOW_FAVORITES":return x({},e,{showFavorites:!e.showFavorites});case"ADD_CONTACT":return e.newContactId?e:x({},e,{newContactId:m()(),newContact:{name:"",email:"",isFavorite:e.showFavorites}});case"CREATE_UPDATE_CONTACT":var a=e.newContactId===t.contactId;return x({},e,{error:void 0,newContactId:a?void 0:e.newContactId,contacts:a?x(Object(s.a)({},t.contactId,t.contact),e.contacts):x({},e.contacts,Object(s.a)({},t.contactId,x({},e.contacts[t.contactId],{},t.contact)))});case"DELETE_CONTACT":var n=x({},e.contacts);return n[t.contactId]&&delete n[t.contactId],x({},e,{error:void 0,contacts:n,newContactId:t.contactId===e.newContactId?void 0:e.newContactId});case"START_LOAD_CONTACTS":return x({},e,{isLoading:!0,error:void 0});case"FINISH_LOAD_CONTACTS":return t.error?x({},e,{isLoading:!1,error:t.error}):x({},e,{isLoading:!1,contacts:t.contacts});case"SET_ERROR":return x({},e,{error:t.error});default:return e}}};function I(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([].concat(Object(p.a)(h.map(f.b)),Object(p.a)(S.map(f.b))));case 2:case"end":return e.stop()}}),k)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D=a(109),A=a(118),_=a(116),P=a(114),F=a(57),R=a.n(F),L=a(23),z=a(50),U=function(e){return e.contacts.contacts},B=function(e){return e.contacts.showFavorites},J=a(115),H=a(52),W=a.n(H),G=a(54),$=a.n(G),V=a(55),Y=a.n(V),q=a(51),K=a.n(q),M=a(53),Q=a.n(M),X=a(56),Z=a.n(X),ee=a(113),te=a(3),ae=a(117),ne=Object(D.a)((function(e){return{root:{border:0,display:"inline-flex",flexDirection:"column",verticalAlign:"top"},span:{color:"rgba(0, 0, 0, 0.54)",padding:0,fontSize:"1rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:400,lineHeight:1,letterSpacing:"0.00938em",marginTop:"8px"}}})),ce=function(e){var t=e.label,a=e.children,n=e.className,r=Object(te.a)(e,["label","children","className"]),o=ne();return c.a.createElement("div",{className:"".concat(o.root," ").concat(n)},c.a.createElement(ae.a,{shrink:!0},t),c.a.createElement("span",Object.assign({key:"name",className:o.span},r),a))},re=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;var oe=/^[+]?[0-9|(|)|\-| ]+$/;var ie=Object(D.a)((function(e){var t,a;return{root:{boxShadow:"0px 0px 5px #c7c7c7",backgroundColor:"#ffffff",borderRadius:"5px",padding:"5px",display:"flex",justifyContent:"space-between"},textField:Object(s.a)({marginRight:e.spacing(.5),width:"30%"},e.breakpoints.down("xs"),{width:"unset",marginBottom:"15px"}),fieldsSpace:(t={},Object(s.a)(t,e.breakpoints.down("xs"),{flexDirection:"column"}),Object(s.a)(t,"display","flex"),Object(s.a)(t,"justifyContent","space-between"),Object(s.a)(t,"width","80%"),t),buttonsSpace:(a={},Object(s.a)(a,e.breakpoints.down("xs"),{flexDirection:"column",justifyContent:"unset",alignItems:"flex-end"}),Object(s.a)(a,"display","flex"),Object(s.a)(a,"justifyContent","flex-end"),Object(s.a)(a,"width","20%"),Object(s.a)(a,"marginRight","10px"),a)}})),se=function(e){var t=e.isFavorite,a=e.name,r=e.email,o=e.phone,i=e.className,s=e.isNew,l=e.contactId,u=e.CreateUpdateContact,d=e.DeleteContact,b=ie(),p=Object(n.useState)(!!s),f=Object(L.a)(p,2),O=f[0],m=f[1],j=Object(n.useState)(a),v=Object(L.a)(j,2),x=v[0],g=v[1],C=Object(n.useState)(r),y=Object(L.a)(C,2),h=y[0],w=y[1],E=Object(n.useState)(o),S=Object(L.a)(E,2),k=S[0],T=S[1],I=function(e){return!!e}(x),N=function(e){return void 0!==e&&e.search(re)>-1}(h),D=function(e){return!e||e.search(oe)>-1}(k),A=Object(n.useCallback)((function(){m((function(e){return!e})),x&&h&&O&&u(l,{name:x,email:h,phone:k,isFavorite:t})}),[l,O,m,u,x,h,k,t]),_=Object(n.useCallback)((function(){s?d(l):m(!1)}),[m,d,s,l]),P=Object(n.useCallback)((function(e){var t=e.target,a=t.id,n=t.value;"name-edit"===a?g(n):"email-edit"===a?w(n):"phone-edit"===a&&T(n)}),[g]),F=Object(n.useCallback)((function(){return d(l)}),[d,l]),R=Object(n.useCallback)((function(){u(l,{name:a,email:r,phone:o,isFavorite:!t})}),[u,a,r,o,t,l]);return c.a.createElement("form",{className:"".concat(b.root," ").concat(i),noValidate:!0,autoComplete:"off","data-cy":"contact-form"},c.a.createElement("div",{className:b.fieldsSpace},O?c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,{multiline:!0,error:!I,onChange:P,key:"name-edit",id:"name-edit","data-cy":"name-edit",className:b.textField,label:"Name",value:x}),c.a.createElement(J.a,{error:!N,onChange:P,key:"email-edit",id:"email-edit","data-cy":"email-edit",className:b.textField,label:"Email",value:h}),c.a.createElement(J.a,{error:!D,onChange:P,key:"phone-edit",id:"phone-edit","data-cy":"phone-edit",className:b.textField,label:"Phone",value:k||""})):c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,{className:b.textField,key:"name",label:"Name","data-cy":"name"},a),c.a.createElement(ce,{className:b.textField,key:"email",label:"Email","data-cy":"email"},r),c.a.createElement(ce,{className:b.textField,key:"phone",label:"Phone","data-cy":"phone"},o))),c.a.createElement("div",{className:b.buttonsSpace},c.a.createElement(ee.a,{disabled:O&&!(I&&N&&D),edge:"end","aria-label":"edit-save","data-cy":"edit-save",onClick:A},O?c.a.createElement(K.a,null):c.a.createElement(W.a,null)),O&&c.a.createElement(ee.a,{edge:"end","aria-label":"cancel","data-cy":"cancel",onClick:_},c.a.createElement(Q.a,null)),c.a.createElement(ee.a,{edge:"end","aria-label":"delete","data-cy":"delete",onClick:F},c.a.createElement($.a,null)),!O&&c.a.createElement(ee.a,{edge:"end","aria-label":"favorite","data-cy":"favorite",onClick:R},t?c.a.createElement(Y.a,null):c.a.createElement(Z.a,null))))},le=Object(D.a)((function(e){return{contactItem:{marginBottom:e.spacing(1)}}})),ue=function(e){var t=e.contacts,a=e.newContact,n=e.newContactId,r=e.CreateUpdateContact,o=e.DeleteContact,i=le();return c.a.createElement(c.a.Fragment,null,n&&a&&c.a.createElement(se,Object.assign({key:n,className:i.contactItem,isNew:!0,contactId:n},a,{CreateUpdateContact:r,DeleteContact:o})),Object.entries(t).map((function(e){var t=Object(L.a)(e,2),a=t[0],n=t[1];return c.a.createElement(se,Object.assign({key:a,contactId:a,className:i.contactItem,CreateUpdateContact:r,DeleteContact:o},n))})))};function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var be=Object(D.a)((function(e){return{root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",display:"flex",justifyContent:"center",overflow:"hidden"},container:{display:"flex",flexDirection:"column",padding:"10px",width:"80rem",overflowY:"auto"},toolBar:{position:"sticky",padding:"5px",borderRadius:"5px",top:0,zIndex:100,backgroundColor:e.palette.background.default,marginBottom:e.spacing(1)},addButton:{position:"absolute",alignSelf:"flex-end",bottom:"20px"}}})),pe=Object(i.b)((function(){var e=Object(z.a)([U,B],(function(e,t){return t?Object.entries(e).reduce((function(e,t){var a=Object(L.a)(t,2),n=a[0],c=a[1];return c.isFavorite&&(e[n]=c),e}),{}):e}));return function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.contacts,{contacts:e(t)})}}),{ToggleShowFavorites:function(){return{type:"TOGGLE_SHOW_FAVORITES"}},AddContact:function(){return{type:"ADD_CONTACT"}},CreateUpdateContact:function(e,t){return{type:"CREATE_UPDATE_CONTACT",contactId:e,contact:t}},DeleteContact:function(e){return{type:"DELETE_CONTACT",contactId:e}},StartLoadContacts:function(){return{type:"START_LOAD_CONTACTS"}}})((function(e){var t=e.contacts,a=e.showFavorites,r=(e.isLoading,e.newContact),o=e.newContactId,i=e.ToggleShowFavorites,s=e.AddContact,l=e.CreateUpdateContact,u=e.DeleteContact,d=be(),b=Object(n.useRef)(null),p=Object(n.useCallback)((function(){s(),b.current&&b.current.scrollTo({top:0,left:0,behavior:"smooth"})}),[s,b]);return c.a.createElement("div",{className:d.root},c.a.createElement("div",{ref:b,className:d.container},c.a.createElement("div",{className:d.toolBar},c.a.createElement(_.a,{"data-cy":"show-favorites-switch",control:c.a.createElement(A.a,{checked:a,onClick:i}),label:"Show favorite contacts"})),c.a.createElement(ue,{contacts:t,newContact:r,newContactId:o,CreateUpdateContact:l,DeleteContact:u}),c.a.createElement(P.a,{className:d.addButton,color:"primary","aria-label":"add","data-cy":"add",onClick:p},c.a.createElement(R.a,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=function(){var e=Object(u.a)(),t=Object(l.a)(e),a=Object(l.c)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},T)),n=Object(l.e)(a,t);return e.run(I),n}();o.a.render(c.a.createElement(i.a,{store:fe},c.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[68,1,2]]]);
//# sourceMappingURL=main.1f0d4fd6.chunk.js.map